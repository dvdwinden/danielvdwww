<!DOCTYPE html>
<html lang="en">
<head>
	<script>
	  // Apply dark mode immediately to prevent flash
	  if (localStorage.theme === 'dark' ||
	    (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
	    document.documentElement.classList.add('dark');
	  }
	</script>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" type="image/png" sizes="32x32" href="/assets/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/assets/favicon-16x16.png">
    <link rel="apple-touch-icon" href="/assets/apple-touch-icon.png">
    <title>{% if title %}
        {% if page.url == '/' %}
            Daniël van der Winden • Software designer & writer
        {% else %}
            {{ title }} • Daniël van der Winden
        {% endif %}
    {% else %}
        Daniël van der Winden • Software designer & writer
    {% endif %}</title>
    <meta name="description" content="{{ description or site.description }}">
    <link rel="stylesheet" href="/css/style.css">

    <!-- Pre-load font files -->
    <link rel="preload" href="/assets/fonts/Blanco-Regular.woff" as="font" type="font/woff" crossorigin>
    <link rel="preload" href="/assets/fonts/Blanco-Medium.woff" as="font" type="font/woff" crossorigin>
    <link rel="preload" href="/assets/fonts/Blanco-Italic.woff2" as="font" type="font/woff2" crossorigin>
    <link rel="preload" href="/assets/fonts/Blanco-Italic.woff" as="font" type="font/woff" crossorigin>
    <link rel="preload" href="/assets/fonts/Blanco-MediumItalic.woff2" as="font" type="font/woff2" crossorigin>
    <link rel="preload" href="/assets/fonts/Blanco-MediumItalic.woff" as="font" type="font/woff" crossorigin>

    <link rel="preload" href="/assets/fonts/Degular-Regular.woff2" as="font" type="font/woff2" crossorigin>
    <link rel="preload" href="/assets/fonts/Degular-Regular.woff" as="font" type="font/woff" crossorigin>
    <link rel="preload" href="/assets/fonts/Degular-Medium.woff2" as="font" type="font/woff2" crossorigin>
    <link rel="preload" href="/assets/fonts/Degular-Medium.woff" as="font" type="font/woff" crossorigin>
    <link rel="preload" href="/assets/fonts/Degular-Italic.woff2" as="font" type="font/woff2" crossorigin>
    <link rel="preload" href="/assets/fonts/Degular-Italic.woff" as="font" type="font/woff" crossorigin>
    <link rel="preload" href="/assets/fonts/Degular-MediumItalic.woff2" as="font" type="font/woff2" crossorigin>
    <link rel="preload" href="/assets/fonts/Degular-MediumItalic.woff" as="font" type="font/woff" crossorigin>

    <!-- Pre-load critical hero images -->
    <link rel="preload" href="/assets/work/studio-square.webp" as="image" type="image/webp" fetchpriority="high">
    <link rel="preload" href="/assets/work/daniel-square.webp" as="image" type="image/webp" fetchpriority="high">

    <meta name="theme-color" content="#f5f7fa" media="(prefers-color-scheme: light)">
    <meta name="theme-color" content="#222" media="(prefers-color-scheme: dark)">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-capable" content="yes">

    <meta name="view-transition" content="same-origin">

    <!-- RSS Feeds -->
    <link rel="alternate" type="application/atom+xml" title="Journal Feed" href="/journal/feed.xml">
    <link rel="alternate" type="application/atom+xml" title="Links Feed" href="/links/feed.xml">
    <script defer src="https://cloud.umami.is/script.js" data-website-id="5a0a578b-bf79-4578-96ef-373454590774"></script>

    <meta property="og:image" content="/assets/share-image-1200.webp">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:image:alt" content="Daniël van der Winden">
</head>
<body class="min-h-screen font-sans overflow-x-hidden">
    <!-- Background layer -->
    <div id="page-background" class="fixed inset-0 -z-10 {{ bodyClass }}"></div>

    <!-- Content wrapper -->
    <div id="page-content">
        {% include "header.njk" %}

        <nav class="fixed z-50 bottom-4 left-4 right-4 sm:bottom-6 sm:left-6 sm:right-auto">
            <div class="relative px-4 py-3 overflow-hidden bg-white border border-gray-200 rounded-lg dark:bg-black dark:border-gray-700 sm:bg-transparent sm:dark:bg-transparent sm:border-0 sm:p-0">
                <div class="absolute inset-y-0 right-0 w-12 pointer-events-none bg-gradient-to-l from-white dark:from-black to-transparent sm:hidden"></div>
                {% include "navigation.njk" %}
            </div>
        </nav>

        <main class="ml-0 lg:ml-80 mr-0 lg:mr-32 pt-20 px-6 lg:px-12 flex-1 flex justify-end max-w-[1600px]">
            <div class="w-full max-w-[1400px]">
                {{ content | safe }}
            </div>
        </main>
    </div>

    <script src="/js/dark-mode.js"></script>
</html>
